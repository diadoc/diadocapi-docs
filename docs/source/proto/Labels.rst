Метки (Labels)
==============

К служебным сущностям, отправляемым с помощью метода :doc:`../http/PostMessagePatch` в структуре :doc:`../proto/MessagePatchToPost`, можно добавить метки. Метки могут помочь при реализации клиентской логики для обработки служебных сущностей. В Диадоке также есть предопределенные метки, которые влияют на поведение системы.

Метка — это строка, удовлетворяющая условиям:

- длина не более 20 символов
- содержит латинские буквы, цифры и дефисы, может начинаться с символа подчеркивания
- регистр букв не имеет значения

Предопределенные метки, и только они, начинаются с символа подчеркивания.

К одной сущности можно добавить не более 30 меток. К одной сущности нельзя добавить несколько одинаковых меток.

Метки, добавленные к сущности, содержатся в структуре :doc:`../proto/Entity message`. Метки передаются в ящик другой стороны вместе с сущностью.

Предопределенные метки
----------------------

_impersonal
    Обезличенное действие.
    
    Если с такой меткой отправлено извещение о получении (:doc:`ReceiptAttachment <../proto/MessagePatchToPost>`) или уведомление об уточнении (:doc:`CorrectionRequestAttachment <../proto/MessagePatchToPost>`), то на странице документа в Диадоке в описании действия не будет упомянут сотрудник, который его совершил.