AutoSignReceipts
=======================

Имя ресурса: **/AutoSignReceipts**

HTTP Метод: **POST**

Параметры запроса:

- *boxId*: идентификатор ящика;

- *thumbprint* - Опциональный параметр. Строка. Отпечаток облачного сертификата, которым необходимо подписать документы. Если не задан, то будет использоваться текущий активный облачный сертификат пользователя, от имени которого делается вызов.

- *batchKey* - Опциональный параметр. уникальный ключ, позволяющий запустить обработку следующей пачки уведомлений.

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

Метод запускает на сервере Диадок задачу, которая отправляет подписанные извещения InvoiceReceipt о получении счета-фактуры или о получении подтверждения, на все запросы о подтверждении, находящиеся в данном ящике.

В теле ответа содержится 

.. code-block:: protobuf

	{
		TaskId: task_id  // идентификатор запущенной задачи
	}


**Возможные HTTP-коды возврата:**

-  *200 (OK)* - операция успешно выполнена.

-  *400 (Bad Request)* - данные в запросе имеют неверный формат или отсутствуют обязательные параметры.

-  *401 (Unauthorized)* - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные.

-  *403 (Forbidden)* - доступ к ящику с предоставленным авторизационным токеном запрещен.

-  *404 (Not Found)* - указанный ящик не найден.

-  *405 (Method not allowed)* - используется неподходящий HTTP-метод.

-  *500 (Internal server error)* - при обработке запроса возникла непредвиденная ошибка.
