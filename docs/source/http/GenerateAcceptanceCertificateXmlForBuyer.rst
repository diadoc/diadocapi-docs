GenerateAcceptanceCertificateXmlForBuyer
========================================

.. warning:: Этот метод — устаревший. С 1 октября 2021 года он перестанет работать. Для генерации документов следует использовать метод :doc:`../http/GenerateTitleXml`.

.. http:post:: /GenerateAcceptanceCertificateXmlForBuyer

    :query documentVersion: версия документа
    :query boxId: идентификатор ящика
    :query sellerTitleMessageId: идентификатор сообщения, содержащего соответствующий титул исполнителя
    :query sellerTitleAttachmentId: идентификатор сущности, представляющей титул исполнителя, для которого требуется изготовить титул заказчика

    :reqheader Authorization: необходимые данными для :doc:`авторизации <../Authorization>`

    :statuscode 200: операция успешно завершена
    :statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры
    :statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные
    :statuscode 403: доступ к ящику с предоставленным авторизационным токеном запрещен
    :statuscode 404: при заполненном поле DiadocOrganizationInfo.BoxId в справочнике Диадока отсутствует организация, которой принадлежит указанный ящик
    :statuscode 405: используется неподходящий HTTP-метод
    :statuscode 409: не удалось разобрать соответствующий титул исполнителя
    :statuscode 500: при обработке запроса возникла непредвиденная ошибка

    Для вызова этого метода текущий пользователь должен иметь доступ к документу титула продавца, в противном случае возвращается код ошибки 403 (Forbidden).

    Если *documentVersion* равен ``rezru_05_01_02``:

    - в теле запроса должны содержаться данные для изготовления титула заказчика для акта о выполнении работ / оказании услуг в XML-формате, в виде сериализованной структуры :doc:`AcceptanceCertificate552BuyerTitleInfo <../proto/AcceptanceCertificate552Info>`;

    - в теле ответа содержится XML-файл титула заказчика для акта о выполнении работ / оказании услуг, построенный на основании данных из запроса. Файл изготавливается в соответствии с :download:`XML-схемой (DP_REZRUZAK_1_990_02_05_01_02.xsd) <../xsd/DP_REZRUZAK_1_990_02_05_01_02.xsd>`, которая описывает рекомендованный ФНС формат для электронных актов о выполнении работ / оказании услуг;

    Если *documentVersion* не указан или равен ``act_05_01_02``:

    - в теле запроса должны содержаться данные для изготовления титула заказчика для акта о выполнении работ / оказании услуг в XML-формате, в виде сериализованной структуры :doc:`AcceptanceCertificateBuyerTitleInfo <../proto/AcceptanceCertificateInfo>`;

    - в теле ответа содержится XML-файл титула заказчика для акта о выполнении работ / оказании услуг, построенный на основании данных из запроса. Файл изготавливается в соответствии с :download:`XML-схемой (DP_ZAKTPRM_1_990_00_05_01_02.xsd) <../xsd/DP_ZAKTPRM_1_990_00_05_01_02.xsd>`, которая описывает рекомендованный ФНС формат для электронных актов о выполнении работ / оказании услуг;

    Имя файла титула заказчика для акта возвращается в стандартном HTTP-заголовке Content-Disposition;
