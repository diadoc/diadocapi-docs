AcquireCounteragentResult
=========================

Метод *AcquireCounteragentResult* позволяет получить идентификатор приглашенной организации.

HTTP
----

**POST /AcquireCounteragent**

**Параметры запроса:**

-  *taskId* - идентификатор задачи на отправку приглашения контрагенту, полученный в результате выполнения запроса AcquireCounteragent.

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

В теле ответа содержится одноименная структура данных *AcquireCounteragentResult* в формате протобуфер:

.. code-block:: protobuf

    message AcquireCounteragentResult {
        optional string taskId = 1;
    }

AcquireCounteragentResult:

-  *orgId*: идентификатор приглашенной организации.

Метод *AcquireCounteragentResult* позволяет получить идентификатор приглашенной организации. Если по каким-то причинам не удалось доставить приглашение до контрагента, то вернется ошибка 409. Возможные причины ошибки:

-  не удалось создать организацию, если приглашение отправлялось в незарегистрированную организацию;
-  неудачная проверка подписи, если приглашение отправлялось с вложенным файлом.

**Возможные HTTP-коды возврата:**

-  *200 (OK)* - операция успешно завершена;

-  *400 (Bad Request)* - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  *401 (Unauthorized)* - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  *403 (Forbidden)* - доступ к ящику с предоставленным авторизационным токеном запрещен, либо у пользователя недостаточно прав для доступа ко всем документам организации;

-  *404 (Not Found)* - в указанном ящике нет документов с указанными идентификаторами;

-  *405 (Method not allowed)* - используется неподходящий HTTP-метод;

-  *409 (Conflict)* - не удалось выполнить запрос на приглашение контрагента;

-  *500 (Internal server error)* - при обработке запроса возникла непредвиденная ошибка.