GeneratePrintForm
=================

Имя ресурса: **/GeneratePrintForm**

HTTP метод: **GET**

Параметры строки запроса:

-  *boxId*: идентификатор ящика;

-  *messageId*: идентификатор сообщения;

-  *documentId*: идентификатор сущности документа, для которого требуется сгенерировать печатную форму;

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

В теле ответа содержится файл, содержащий сгенерированную печатную форму, если она уже готова. Имя файла для печатной формы передается в стандартном HTTP-заголовке Content-Disposition. Если формирование печатной формы для данного документа невозможно, то в теле ответа содержится текстовое сообщение об ошибке.

Если запрошенная печатная форма еще не была сгенерирована, то запрос на ее формирование ставится в очередь, а в ответе в HTTP-заголовке ``Retry-After`` указывается время (в секундах), через которое можно повторить запрос для получения уже готовой формы. Тело ответа в этом случае отсутствует.

Для указания типа возвращаемого содержимого (если оно есть) используется стандартный HTTP-заголовок Content-Type.

Возможные HTTP-коды возврата:

-  200 (OK) - операция успешно завершена;

-  400 (Bad Request) - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  401 (Unauthorized) - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  403 (Forbidden) - доступ к ящику с предоставленным авторизационным токеном запрещен, либо у пользователя нет доступа к запрашиваемому документу;

-  404 (Not Found) - в указанном ящике нет сообщения с идентификатором messageId, либо в указанном сообщении нет сущности с идентификатором documentId;

-  405 (Method not allowed) - используется неподходящий HTTP-метод;

-  409 (Conflict) - формирование архива для данного документа невозможно;

-  500 (Internal server error) - при обработке запроса возникла непредвиденная ошибка.