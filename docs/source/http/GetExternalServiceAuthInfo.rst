GetExternalServiceAuthInfo
==========================

Имя ресурса: **/GetExternalServiceAuthInfo**

HTTP метод: **POST**

Параметры строки запроса:

-  *key*: строковый идентификатор, по которому запрашивается аутентификационная информация о пользователе.

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с параметром ``ddauth_api_client_id`` (см. раздел :doc:`Авторизация <../Authorization>`).

В случае успешного выполнения запроса в теле ответа содержится :doc:`../proto/ExternalServiceAuthInfo` в формате протобуфер.

Метод позволяет по ранее выданному ключу получить аутентификационную информацию о пользователе.

Если Диадоку требуется передать информацию о пользователе внешнему сервису, эта информация сохраняется по уникальному ключу.

Этот ключ передается внешнему сервису, по которому он может получить сохраненную информацию.

Информацию, сохраненную по ключу, можно получить только в короткий промежуток времени после сохранения (около 5 минут).

Возможные HTTP-коды возврата:

-  200 (OK) - операция успешно завершена;

-  400 (Bad Request) - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  401 (Unauthorized) - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  404 (Not found) - по переданному ключу нет сохраненной информации.

	Причина может быть в том, что передан неверный ключ или истек срок действия ключа;

-  405 (Method not allowed) - используется неподходящий HTTP-метод;

-  500 (Internal server error) - при обработке запроса возникла непредвиденная ошибка.