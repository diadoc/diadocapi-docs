TransformTemplateToMessage
==========================

.. http:post:: /TransformTemplateToMessage
    :synopsis: Создает сообщение с документами на основе шаблона.

    :query operationId: уникальный идентификатор операции (строка не чувствительная к регистру, может отсутствовать). Если вызов с указанным идентификатором операции завершился успехом, то и все последующие вызовы с тем же идентификатором операции так же завершатся успехом. Результат всех последующих вызовов будет равен результату первого успешного вызова. По умолчанию в качестве идентификатора операции используется MD5-хэш тела запроса.

    :body: В теле запроса должна содержаться информация о преобразуемых документах, сериализованная в протобуфер :doc:`../proto/TemplateTransformationToPost`.

    :reqheader Authorization: необходимые данные для :doc:`авторизации <../Authorization>`

В теле ответа содержится отправленное сообщение, сериализованное в протобуфер :doc:`../proto/Message`.

    :statuscode 200: операция успешно завершена
    :statuscode 400: данные в запросе имеют неверный формат, отсутствуют обязательные параметры
    :statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные
    :statuscode 403: доступ к ящику с предоставленным авторизационным токеном запрещен
    :statuscode 404: шаблон документов не найден
    :statuscode 405: используется неподходящий HTTP-метод
    :statuscode 409: попытка отправить дубликат сообщения
    :statuscode 500: при обработке запроса возникла непредвиденная ошибка

    :resheader Retry-After: если в ответе содержится HTTP-заголовок ``Retry-After``, то предыдущий вызов этого метода с таким же идентификатором операции еще не завершен. В этом случае следует повторить вызов через указанное в заголовке время (в секундах), чтобы убедиться, что операция завершилась без ошибок.