UpdateEmployeePowerOfAttorney
=============================

Метод ``UpdateEmployeePowerOfAttorney`` изменяет параметр машиночитаемой доверенности (МЧД) «Использовать по умолчанию».
С помощью этого метода можно установить для сотрудника МЧД по умолчанию или снять с МЧД признак по умолчанию.

.. http:post:: /UpdateEmployeePowerOfAttorney

	:queryparam boxId: идентификатор ящика организации.
	:queryparam userId: идентификатор сотрудника. Если не указан, то будет изменена МЧД пользователя, от имени которого вызывается метод.
	:queryparam registraionNumber: регистрационный номер МЧД.
	:queryparam issuerInn: ИНН доверителя.

	:requestheader Authorization: данные, необходимые для :doc:`авторизации <../Authorization>`.

	:request Body: Тело запроса должно содержать данные для обновления МЧД, представленные структурой :doc:`../proto/PowerOfAttorneyToUpdate`.

	:statuscode 200: операция успешно завершена.
	:statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры.
	:statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization`` или в этом заголовке содержатся некорректные авторизационные данные.
	:statuscode 402: у организации с указанным идентификатором ``boxId`` закончилась подписка на API.
	:statuscode 403: доступ к ящику с предоставленным авторизационным токеном запрещен или запрос выполнен не от имени администратора или пользователя, для МЧД которого необходимо изменить настройки.
	:statuscode 404: не найден ящик или пользователь с указанными идентификаторами, или не найден сотрудник в ящике для данного пользователя, или не найдена МЧД для сотрудника.
	:statuscode 405: используется неподходящий HTTP-метод.
	:statuscode 500: при обработке запроса возникла непредвиденная ошибка.

	:response Body: Тело ответа содержит измененную информацию о МЧД, представленную структурой :doc:`../proto/EmployeePowerOfAttorney`.
	
Метод устанавливает указанный в структуре :doc:`../proto/PowerOfAttorneyToUpdate` флаг ``IsDefault`` для МЧД.

Метод работает по следующим правилам:

- Если указан флаг ``IsDefault=true``, то указанная МЧД станет доверенностью по умолчанию. Если при этом у сотрудника уже настроена другая МЧД по умолчанию, то старые настройки будут сброшены. Если указанная МЧД уже является доверенностью по умолчанию, то метод завершится успешно и вернет информацию об этой МЧД.
- Если указан флаг ``IsDefault=false``, то выбранная МЧД перестанет быть доверенностью по умолчанию. Если указанная МЧД не является доверенностью по умолчанию, то метод завершится успешно и вернет информацию об этой доверенности.

----

.. rubric:: Смотри также

*Руководства:*
	- :doc:`Как работать с МЧД <../howto/powerofattorney>`

*Другие методы для работы с МЧД:*
	- :doc:`RegisterPowerOfAttorney` — отправляет запрос на регистрацию МЧД.
	- :doc:`RegisterPowerOfAttorneyResult` — возвращает результат регистрации МЧД.
	- :doc:`GetEmployeePowersOfAttorney` — возвращает МЧД, привязанные к сотруднику.
	- :doc:`AddEmployeePowerOfAttorney` — привязывает МЧД к сотруднику.
	- :doc:`DeleteEmployeePowerOfAttorney` — отвязывает МЧД от сотрудника.
	- :doc:`PrevalidatePowerOfAttorney` — выполняет предварительную проверку МЧД.
	- :doc:`GetPowerOfAttorneyInfo` — возвращает информацию о МЧД, отправленной с документом.