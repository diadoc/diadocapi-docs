CanSendInvoice
==============

Имя ресурса: **/CanSendInvoice**

HTTP-метод: **POST**

Параметры строки запроса:

-  *boxId* - идентификатор ящика.

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

В теле запроса должен содержаться :rfc:`X.509 <5280>` сертификат пользователя, сериализованный в `DER <http://www.itu.int/ITU-T/studygroups/com17/languages/X.690-0207.pdf>`__.

Метод позволяет узнать, был ли переданный сертификат зарегистрирован в ФНС в качестве сертификата, используемого для подписания электронных счетов-фактур, отправляемых участником ЭДО, которому принадлежит ящик *boxId*. 

То есть данный метод отвечает на вопрос, может ли указанный сертификат ЭЦП ипользоваться для подписания ЭСФ, отправляемых из ящика *boxId*.

Возможные HTTP-коды возврата:

-  200 (OK) - указанный сертификат может использоваться для подписания ЭСФ, отправляемых из ящика boxId;

-  400 (Bad Request) - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  401 (Unauthorized) - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  403 (Forbidden) - указанный сертификат не может использоваться для подписания ЭСФ, отправляемых из ящика *boxId*;

-  404 (Not found) - не найден ящик с заданным идентификатором;

-  405 (Method not allowed) - используется неподходящий HTTP-метод;

-  500 (Internal server error) - при обработке запроса возникла непредвиденная ошибка.
