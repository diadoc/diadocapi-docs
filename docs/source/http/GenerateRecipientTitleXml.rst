GenerateRecipientTitleXml
==========================

.. http:post:: /GenerateRecipientTitleXml

    :query documentVersion: версия документа
    :query boxId: идентификатор ящика
    :query sellerTitleMessageId: идентификатор сообщения, содержащего соответствующий титул продавца
    :query sellerTitleAttachmentId: идентификатор сущности, представляющей титул продавца, для которого требуется изготовить титул заказчика

    :reqheader Authorization: необходимые данными для :doc:`авторизации <../Authorization>`

    :statuscode 200: операция успешно завершена
    :statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры
    :statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные
    :statuscode 404: при заполненном поле DiadocOrganizationInfo.BoxId в справочнике Диадока отсутствует организация, которой принадлежит указанный ящик
    :statuscode 405: используется неподходящий HTTP-метод
    :statuscode 500: при обработке запроса возникла непредвиденная ошибка

    Для вызова этого метода текущий пользователь должен иметь доступ к документу титула продавца, в противном случае возвращается код ошибки 403 (Forbidden).

    Если *documentVersion* не указан, то по умолчанию используется значение взятое из документа, для которого выполняется генерация титула.

    В теле запроса должен содержаться заполненный XML-файл, соответствующий XSD-схеме контракта для генерации титула получателя данного типа документа.
    XSD-схема контракта, необходимого для генерации титула, может быть получена с помощью ссылки доступной в поле *UserDataXsdUrl* контракта :doc:`DocumentTitle <../proto/DocumentTypeDescription>`, который можно получить с помощью метода :doc:`GetDocumentTypes`.

    В теле ответа содержится сгенерированный XML-файл титула получателя для указанного документа, построенный на основании данных из запроса. Файл изготавливается в соответствии с XSD-схемой соответствующего типа документа.

    Имя файла сгенерированного титула возвращается в стандартном HTTP-заголовке Content-Disposition;
