GenerateTorg12XmlForSeller
==========================

.. warning:: Этот метод — устаревший. С 1 октября 2021 года он перестанет работать. Для генерации документов следует использовать метод :doc:`../http/GenerateTitleXml`.

.. http:post:: /GenerateTorg12XmlForSeller

    :query documentVersion: версия документа
    :query disableValidation: отключение валидации полученного Xml документа по формату ФНС; параметр может отсутствовать

    :reqheader Authorization: необходимые данными для :doc:`авторизации <../Authorization>`

    :statuscode 200: операция успешно завершена
    :statuscode 400: данные в запросе имеют неверный формат или отсутствуют обязательные параметры
    :statuscode 401: в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные
    :statuscode 404: при заполненном поле DiadocOrganizationInfo.BoxId в справочнике Диадока отсутствует организация, которой принадлежит указанный ящик
    :statuscode 405: используется неподходящий HTTP-метод
    :statuscode 500: при обработке запроса возникла непредвиденная ошибка

    Если *documentVersion* равен ``tovtorg_05_01_04``:

    - в теле запроса должны содержаться данные для изготовления титула продавца для товарной накладной в XML-формате, в виде сериализованной структуры :doc:`TovTorgSellerTitleInfo <../proto/TovTorgInfo>`;

    - в теле ответа содержится XML-файл титула продавца для товарной накладной, построенный на основании данных из запроса. Файл изготавливается в соответствии с :download:`XSD-схемой (DP_TOVTORGPR_1_992_01_05_01_04.xsd) <../xsd/DP_TOVTORGPR_1_992_01_05_01_04.xsd>`, которая описывает рекомендованный ФНС формат для электронных товарных накладных.

    Если *documentVersion* не указан или равен ``torg12_05_01_02``:

    - в теле запроса должны содержаться данные для изготовления титула продавца для товарной накладной в XML-формате, в виде сериализованной структуры :doc:`Torg12SellerTitleInfo <../proto/Torg12Info>`;

    - в теле ответа содержится XML-файл титула продавца для товарной накладной, построенный на основании данных из запроса. Файл изготавливается в соответствии с :download:`XSD-схемой (DP_OTORG12_1_986_00_05_01_02.xsd) <../xsd/DP_OTORG12_1_986_00_05_01_02.xsd>`, которая описывает рекомендованный ФНС формат для электронных товарных накладных.


    Имя файла титула продавца для товарной накладной возвращается в стандартном HTTP-заголовке Content-Disposition;
