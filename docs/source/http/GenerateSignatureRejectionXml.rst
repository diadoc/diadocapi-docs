GenerateSignatureRejectionXml
=============================

Метод генерирует XML-файл отказа от подписи документа, либо отказа от предложения об аннулировании документа.

Имя ресурса: **/GenerateSignatureRejectionXml**

HTTP-метод: **POST**

Параметры строки запроса:

-  *boxId*: идентификатор ящика;

-  *messageId*: идентификатор сообщения;

-  *attachmentId*: идентификатор документа, для которого требуется сформировать отказ в подписи, либо идентификатор сущности предложения об аннулировании, для которого требуется сформировать отказ.

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

В теле запроса должны содержаться данные для изготовления файла отказа в виде сериализованной структуры :doc:`../proto/SignatureRejectionInfo`.

В теле ответа содержится сформированный XML-файл отказа. Файл изготавливается в соответствии с `XML-схемой <http://roseu.org/images/stories/roaming/amendment-request-v103.xsd>`__. Имя файла передается в стандартном HTTP-заголовке ``Content-Disposition``.

Для вызова этого метода текущий пользователь должен иметь доступ к исходному документу, в противном случае возвращается код ошибки 403 (Forbidden).

Возможные HTTP-коды возврата:

-  200 (OK) - операция успешно завершена;

-  400 (Bad Request) - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  401 (Unauthorized) - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  403 (Forbidden) - доступ к ящику с предоставленным авторизационным токеном запрещен;

-  404 (Not Found) - в указанном ящике нет сообщения с идентификатором *messageId*, либо в указанном сообщении нет сущности с идентификатором *attachmentId*, либо указанная сущность имеет неверный тип, либо у указанной сущности нет дочерней сущности типа :doc:`../proto/Signature`;

-  405 (Method not allowed) - используется неподходящий HTTP-метод;

-  409 (Conflict) - формирование отказа невозможно;

-  500 (Internal server error) - при обработке запроса возникла непредвиденная ошибка.