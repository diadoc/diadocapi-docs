GenerateInvoiceDocumentReceiptXml
=================================

Имя ресурса: **/GenerateInvoiceDocumentReceiptXml**

HTTP метод: **POST**

Параметры строки запроса:

-  *boxId*: идентификатор ящика;

-  *messageId*: идентификатор сообщения;

-  *attachmentId*: идентификатор сущности документа, для которого требуется изготовить извещение о получении;

В запросе должен присутствовать HTTP-заголовок ``Authorization`` с необходимыми данными для :doc:`авторизации <../Authorization>`.

В теле запроса должны содержаться данные о подписанте генерируемого извещения в виде сериализованной структуры :doc:`../proto/Signer`.

В теле ответа содержится XML-файл с извещением о получении документа *attachmentId* из сообщения messageId в ящике boxId. Файл с извещением изготавливается в соответствии с :download:`XML-схемой <../xsd/DP_IZVPOL_1_982_00_01_01_02.xsd>`, которой должны удовлетворять извещения о получении документов, предусмотренные порядком обмена электронными счетами-фактурами. Имя файла с извещением (которое также диктует приказ ФНС) передается в стандартном HTTP-заголовке ``Content-Disposition``.

Извещения о получении документа должны формироваться для счетов-фактур (Invoice) и УПД с функциями СЧФ и СЧФДОП (UniversalTransferDocument). При этом, отправитель документа может запросить отправку извещений о получении для любого типа документа.

Для вызова этого метода текущий пользователь должен иметь доступ к документу исходного счета-фактуры, в противном случае возвращается код ошибки 403 (Forbidden).

Возможные HTTP-коды возврата:

-  200 (OK) - операция успешно завершена;

-  400 (Bad Request) - данные в запросе имеют неверный формат или отсутствуют обязательные параметры;

-  401 (Unauthorized) - в запросе отсутствует HTTP-заголовок ``Authorization``, или в этом заголовке содержатся некорректные авторизационные данные;

-  403 (Forbidden) - доступ к ящику с предоставленным авторизационным токеном запрещен;

-  404 (Not Found) - в указанном ящике нет сообщения с идентификатором messageId, либо в указанном сообщении нет сущности с идентификатором attachmentId;

-  405 (Method not allowed) - используется неподходящий HTTP-метод;

-  409 (Conflict) - формирование извещения о получении для данного документа невозможно.

-  500 (Internal server error) - при обработке запроса возникла непредвиденная ошибка;